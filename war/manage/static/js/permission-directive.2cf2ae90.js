(window.webpackJsonp=window.webpackJsonp||[]).push([["permission-directive"],{"0aa9":function(e,t,n){"use strict";var c=n("7a23"),i={style:{"margin-bottom":"15px"}},r=Object(c.n)("p",null,"切换权限：",-1);var b=n("1da1"),o=(n("96cf"),n("0613")),s=n("d167"),a=Object(c.r)({name:"SwitchRoles",emits:["change"],setup:function(e,t){var n=t.emit,i=Object(o.b)(),r=Object(c.i)((function(){return i.state.user.roles})),a=Object(c.Q)(r.value[0]);return Object(c.hb)(a,function(){var e=Object(b.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.dispatch(s.a.ACTION_CHANGE_ROLES,t);case 2:n("change");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),{roles:r,currentRole:a}}});a.render=function(e,t,n,b,o,s){var a=Object(c.U)("el-radio-button"),j=Object(c.U)("el-radio-group");return Object(c.L)(),Object(c.m)("div",null,[Object(c.n)("div",i," 你的权限： "+Object(c.Y)(e.roles),1),r,Object(c.q)(j,{modelValue:e.currentRole,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.currentRole=t})},{default:Object(c.jb)((function(){return[Object(c.q)(a,{label:"editor"}),Object(c.q)(a,{label:"admin"})]})),_:1},8,["modelValue"])])},t.a=a},"4ddf":function(e,t,n){"use strict";n("7c8e")},"7c8e":function(e,t,n){},a99f:function(e,t,n){"use strict";n.r(t);var c=n("7a23");Object(c.O)("data-v-9496d814");var i={class:"app-container"},r={class:"permission-alert"},b=Object(c.p)(" Only "),o=Object(c.p)("admin"),s=Object(c.p)(" can see this "),a=Object(c.p)(" v-permission=\"['admin']\" "),j={class:"permission-alert"},u=Object(c.p)(" Only "),O=Object(c.p)("editor"),l=Object(c.p)(" can see this "),d=Object(c.p)(" v-permission=\"['editor']\" "),p={class:"permission-alert"},m=Object(c.p)(" Both "),f=Object(c.p)("admin"),h=Object(c.p)(" and "),v=Object(c.p)("editor"),k=Object(c.p)(" can see this "),y=Object(c.p)(" v-permission=\"['admin','editor']\" "),_=Object(c.p)(" 在某些情况下，不适合使用 v-permission。例如：Element-UI 的 el-tab 或 el-table-column 以及其它动态渲染 dom 的场景。你只能通过手动设置 v-if 来实现。 "),q=Object(c.p)(" Admin can see this "),g=Object(c.p)(" v-if=\"checkPermission(['admin'])\" "),w=Object(c.p)(" Editor can see this "),C=Object(c.p)(" v-if=\"checkPermission(['editor'])\" "),R=Object(c.p)(" Both admin or editor can see this "),P=Object(c.p)(" v-if=\"checkPermission(['admin','editor'])\" ");Object(c.M)();var L=n("5530"),U=(n("caad"),n("2532"),n("0613")),x=function(e){if(e&&e instanceof Array&&e.length>0){var t=Object(U.b)().state.user.roles,n=e;return t.some((function(e){return n.includes(e)}))}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1},A=n("0aa9"),E=Object(c.r)({name:"DirectivePermission",components:{SwitchRoles:A.a},setup:function(){var e=Object(c.P)({key:1,checkPermission:x,handleRolesChange:function(){e.key++}});return Object(L.a)({},Object(c.bb)(e))}});n("4ddf"),E.render=function(e,t,n,L,U,x){var A=Object(c.U)("SwitchRoles"),E=Object(c.U)("el-tag"),z=Object(c.U)("el-tab-pane"),S=Object(c.U)("el-tabs"),V=Object(c.V)("permission");return Object(c.L)(),Object(c.m)("div",i,[Object(c.q)(A,{onChange:e.handleRolesChange},null,8,["onChange"]),(Object(c.L)(),Object(c.m)("div",{key:e.key,style:{"margin-top":"30px"}},[Object(c.n)("div",null,[Object(c.kb)(Object(c.n)("span",r,[b,Object(c.q)(E,{size:"small"},{default:Object(c.jb)((function(){return[o]})),_:1}),s],512),[[V,["admin"]]]),Object(c.kb)(Object(c.q)(E,{class:"permission-sourceCode",type:"info"},{default:Object(c.jb)((function(){return[a]})),_:1},512),[[V,["admin"]]])]),Object(c.n)("div",null,[Object(c.kb)(Object(c.n)("span",j,[u,Object(c.q)(E,{size:"small"},{default:Object(c.jb)((function(){return[O]})),_:1}),l],512),[[V,["editor"]]]),Object(c.kb)(Object(c.q)(E,{class:"permission-sourceCode",type:"info"},{default:Object(c.jb)((function(){return[d]})),_:1},512),[[V,["editor"]]])]),Object(c.n)("div",null,[Object(c.kb)(Object(c.n)("span",p,[m,Object(c.q)(E,{size:"small"},{default:Object(c.jb)((function(){return[f]})),_:1}),h,Object(c.q)(E,{size:"small"},{default:Object(c.jb)((function(){return[v]})),_:1}),k],512),[[V,["admin","editor"]]]),Object(c.kb)(Object(c.q)(E,{class:"permission-sourceCode",type:"info"},{default:Object(c.jb)((function(){return[y]})),_:1},512),[[V,["admin","editor"]]])])])),(Object(c.L)(),Object(c.m)("div",{key:"checkPermission"+e.key,style:{"margin-top":"60px"}},[Object(c.q)(E,{type:"info"},{default:Object(c.jb)((function(){return[_]})),_:1}),Object(c.q)(S,{type:"border-card",style:{width:"550px","margin-top":"60px"}},{default:Object(c.jb)((function(){return[e.checkPermission(["admin"])?(Object(c.L)(),Object(c.k)(z,{key:0,label:"Admin"},{default:Object(c.jb)((function(){return[q,Object(c.q)(E,{class:"permission-sourceCode",type:"info"},{default:Object(c.jb)((function(){return[g]})),_:1})]})),_:1})):Object(c.l)("",!0),e.checkPermission(["editor"])?(Object(c.L)(),Object(c.k)(z,{key:1,label:"Editor"},{default:Object(c.jb)((function(){return[w,Object(c.q)(E,{class:"permission-sourceCode",type:"info"},{default:Object(c.jb)((function(){return[C]})),_:1})]})),_:1})):Object(c.l)("",!0),e.checkPermission(["admin","editor"])?(Object(c.L)(),Object(c.k)(z,{key:2,label:"Admin-OR-Editor"},{default:Object(c.jb)((function(){return[R,Object(c.q)(E,{class:"permission-sourceCode",type:"info"},{default:Object(c.jb)((function(){return[P]})),_:1})]})),_:1})):Object(c.l)("",!0)]})),_:1})]))])},E.__scopeId="data-v-9496d814",t.default=E}}]);